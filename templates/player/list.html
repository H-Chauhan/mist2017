<!DOCTYPE html>
{% load static %}
<!DOCTYPE html>
<!--[if lt IE 9 ]><html class="ie ie-lt9 no-js" lang="en"><![endif]-->
<!--[if IE 9 ]><html class="ie ie9 no-js" lang="en"><![endif]-->
<!--[if gt IE 9 | !IE]><!-->
<html class="no-js fixed" lang="en">
<!--<![endif]-->

<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <meta name="description" content="This event invites scholarly individuals from all around the world to participate in the most spectacular quiz of the year. It is an online event and will be conducted through an online portal.">
    <meta name="keywords" content="mist troika ieee dtu techfest treasure hunt game">
    <meta name="author" content="ieeedtu">
    <title>MIST</title>
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:regular,bold,italic,thin,light,bolditalic,black,medium&amp;lang=en">
    <link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">
    <link rel="stylesheet" href="https://code.getmdl.io/1.3.0/material.red-indigo.min.css">
    <link rel="stylesheet" href='{% static "styles.css" %}'>
    <link rel="stylesheet" href='{% static "custom.css" %}'> 

    <style>
        table {
            width: 100%;
        }
        @media screen and (max-width: 767px) {
            table {
                display: block;
                overflow-x: scroll;
            }
        }
    </style>    
</head>

<body>
    <div class="mdl-layout mdl-js-layout mdl-layout--fixed-drawer mdl-layout--fixed-header">
        <header class="demo-header mdl-layout__header mdl-color--red-800 mdl-color-text--white">
            <div class="mdl-layout__header-row"> <span class="mdl-layout-title">MIST</span>
                <div class="mdl-layout-spacer"></div>
                <button class="mdl-button mdl-js-button mdl-js-ripple-effect mdl-button--icon" id="hdrbtn"> <i class="material-icons">more_vert</i> </button>
                <ul class="mdl-menu mdl-js-menu mdl-js-ripple-effect mdl-menu--bottom-right" for="hdrbtn">
                    <li class="mdl-menu__item">About</li>
                    <li class="mdl-menu__item">Forum</li>
                </ul>
            </div>
        </header>
        <div class="demo-drawer mdl-layout__drawer mdl-color--blue-grey-900 mdl-color-text--white">
            <header class="demo-drawer-header"> <img src="http://graph.facebook.com/{{social_account.uid}}/picture?height=100" class="demo-avatar">
                <div class="demo-avatar-dropdown">
                    <h5>{{player.user.first_name }} {{player.user.last_name}}</h5>
                    <div class="mdl-layout-spacer"></div>
                </div>
            </header>
            <nav class="demo-navigation mdl-navigation mdl-color--blue-grey-800"> 
                <a class="mdl-navigation__link active" href="{% url "question" %}"><i class="mdl-color-text--blue-grey-400 material-icons" role="presentation">dashboard</i>Dashboard</a> 
                <a class="mdl-navigation__link" href="{% url "leaderboard" %}"><i class="mdl-color-text--blue-grey-400 material-icons" role="presentation">format_list_numbered</i>Leaderboard</a> </nav>
        </div>
        <main class="mdl-layout__content mdl-color--grey-300">
            <div class="mdl-grid">
                <div class="mdl-color--white mdl-shadow--2dp mdl-cell mdl-cell--12-col mdl-grid">
                    <h3> &nbsp; Leaderboard</h3>
                </div>
                <div class="mdl-color--white mdl-shadow--2dp mdl-cell mdl-cell--12-col mdl-grid">
                    <h4> &nbsp; Your Current Rank: {{ rank }}</h4>
                </div>

                <div class="mdl-color--white mdl-shadow--2dp mdl-cell mdl-cell--12-col mdl-grid">
                    <table class="mdl-data-table mdl-js-data-table">
                        <thead>
                            <tr>
                            <th>Rank</th>
                            <th class="mdl-data-table__cell--non-numeric">Avatar</th>
                            <th class="mdl-data-table__cell--non-numeric">Name</th>
                            <th>Level</th>
                            <th class="mdl-data-table__cell--non-numeric">Level Time</th>
                            </tr>
                        </thead>
                        <tbody>
                            {% for entry in leaderboard %} 
                            <tr>
                            <td>{{ entry.rank }}</td>
                            <td class="mdl-data-table__cell--non-numeric"><img src="http://graph.facebook.com/{{ entry.social_account.uid}}/picture?height=100" class="demo-avatar"></td>
                            <td class="mdl-data-table__cell--non-numeric">{{ entry.player.user.first_name }} {{ entry.player.user.last_name }}</td>
                            <td>{{ entry.player.level }}</td>
                            <td class="mdl-data-table__cell--non-numeric">{{ entry.player.levelTime }}</td>
                            </tr>
                            {% endfor %}
                        </tbody>
                        </table>
                </div>
                
                <div class="mdl-color--white mdl-shadow--2dp mdl-cell mdl-cell--12-col mdl-grid">
                    <div class="pagination">
                        <span class="step-links">
                            {% if player_list.has_previous %}
                                <button class="mdl-button mdl-js-button mdl-button--raised mdl-js-ripple-effect" onclick="location.href='?page=1';">
                                    <i class="material-icons">first_page</i>
                                </button>
                                &nbsp;
                                <button class="mdl-button mdl-js-button mdl-button--raised mdl-js-ripple-effect" onclick="location.href='?page={{ player_list.prev_page_number }}';">
                                    <i class="material-icons">chevron_left</i>
                                </button>
                            {% endif %}

                            <span class="current">
                                Page {{ player_list.number }} of {{ player_list.paginator.num_pages }}.
                            </span> 
                            {% if player_list.has_next %}
                                <button class="mdl-button mdl-js-button mdl-button--raised mdl-js-ripple-effect" onclick="location.href='?page={{ player_list.next_page_number }}';">
                                    <i class="material-icons">chevron_right</i>
                                </button>       
                                &nbsp;                                
                                <button class="mdl-button mdl-js-button mdl-button--raised mdl-js-ripple-effect" onclick="location.href='?page={{ player_list.paginator.num_pages }}';">
                                    <i class="material-icons">last_page</i>
                                </button>
                            {% endif %}
                        </span>
                    </div>
                </div>
            </div>
        </main>
    </div>
    <script src="https://code.getmdl.io/1.3.0/material.min.js"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.1/jquery.min.js"></script>
</body>

</html>